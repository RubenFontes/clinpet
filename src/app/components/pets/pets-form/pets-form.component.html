<form [formGroup]="formPet" class="form-container" (ngSubmit)="salvar.emit()">
  <h1>{{ petEmEdicao ? 'Editar Pet' : 'Cadastro de Pet' }}</h1>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Tutor Responsável</mat-label>
    <mat-select formControlName="tutorId">
      <mat-option *ngFor="let tutor of tutores" [value]="tutor.id">
        {{ tutor.nome }} (CPF: {{ tutor.cpf }})
      </mat-option>
    </mat-select>
    <mat-error *ngIf="formPet.get('tutorId')?.invalid">
      Escolha/cadastre um tutor para prosseguir
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Nome</mat-label>
    <input matInput formControlName="nome" placeholder="Nome">
    <mat-error *ngIf="formPet.get('nome')?.invalid">
      Nome é obrigatório
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Especie</mat-label>
    <input placeholder="Ex: Cachorro, Gato" matInput formControlName="especie">
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Raça</mat-label>
    <input placeholder="Ex: Vira-lata" matInput formControlName="raca">
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Sexo</mat-label>
    <mat-select formControlName="sexo">
      <mat-option value="M">Macho</mat-option>
      <mat-option value="F">Fêmea</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Data de Nascimento</mat-label>
    <input
      placeholder="DD/MM/AAAA"
      matInput
      formControlName="dataNascimento"
      mask="d0/M0/0000"
    >
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Observações</mat-label>
    <textarea
      title="''"
      matInput
      formControlName="obs"
      rows="3"
    ></textarea>
  </mat-form-field>

  <button
    mat-flat-button
    color="primary"
    type="submit"
    [disabled]="!formPet.valid"
  >
    {{ petEmEdicao ? 'Salvar Alterações' : ('Cadastrar Pet' | uppercase) }}
  </button>

  <button
    mat-stroked-button
    type="button"
    *ngIf="petEmEdicao"
    (click)="cancelar.emit()"
  >
    Cancelar
  </button>
</form>

